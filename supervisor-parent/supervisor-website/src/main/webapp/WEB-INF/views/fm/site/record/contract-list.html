<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>私享家绿色门窗平台</title>
<meta name="keywords" content="私享家绿色门窗平台,门窗,型材厂,玻璃厂,门窗" />
<meta name="description"
	content="私享家绿色门窗平台,为门窗行业的玻璃厂,型材厂提供产品盘点,物流跟踪,质量溯源服务。致力于推动江苏省房地产建筑行业绿色环保事业。" />
<link href="${b.staticPath}style/style.css" rel="stylesheet"
	type="text/css" />
<link href="${b.staticPath}style/uploadify.css " rel="stylesheet"
	type="text/css" />
<script src="${b.staticPath}js/jquery.js" type="text/javascript"></script>
<script src="${b.staticPath}js/jqueryui.js"></script>
<link rel="stylesheet" type="text/css"
	href="${b.staticPath}style/elastislide.css" />
<script src="${b.staticPath}js/tytabs.jquery.min.js"
	type="text/javascript"></script>
<script src="${b.staticPath}js/intense.js"></script>
<script src="${b.staticPath}js/comet4j.js"></script>
<link href="${b.staticPath}style/jquery.iviewer.css" rel="stylesheet"
	type="text/css" />
<script src="${b.staticPath}js/jquery.iviewer.js" type="text/javascript"></script>
<script src="${b.staticPath}js/jquery.bigautocomplete.js"></script>
<script type="text/javascript"
	src="${b.staticPath}js/jquery.mousewheel.js"></script>
<script src="${b.staticPath}js/jquery.elastislide-style.js"
	type="text/javascript"></script>
<script src="${b.staticPath}js/jquery.elastislide.js"
	type="text/javascript"></script>

<@b.pageScript/> <@b.errorInfo/> <@b.upload/>
<script>

jQuery(document).ready(function($) {
	$('.modal-header .close').click(function(){
		$('.popView').slideUp(200);
		$("#rollBox").empty();
	})
	$('.lnk-view').live('click',function(){
		var imgPath=$(this).attr("imgPath");
		if(imgPath!=''){
       			$.post("${basePath}filesort.htm",{fileId:imgPath},function(imgPaths){
       				if(imgPaths!=''){
       				$('.popView').slideDown(200);
       				$("#rollBox").append('<ul id="carousel" class="elastislide-list"></ul>');
       				for (i=0;i<imgPaths.length;i++ ) { 
       					var n =i+1;
       					$("#carousel").append('<li><a href="javascript:void(0);" class="demo-image" data-image="${b.imagePath}'+imgPaths[i]+'"><img src="${b.imagePath}'+imgPaths[i]+'80x100.JPG" alt="" /></a><p>'+n+'</p></li>');
       				}
       					$( '.elastislide-list' ).elastislide({
   							orientation : 'horizontal',
   							speed : 500,
   							easing : 'ease-in-out',
   							minItems : 3,
   							start : 0,
   							onClick : function( el, position, evt ) { 
   								$("#image-list").hide();
   								var imageSource = el.find("a").attr("data-image");
   								$("#viewer2").iviewer({
   									src : imageSource,
   									mousewheel : true
   								});
   								el.parent().children("li").removeClass("view");
   								el.addClass("view");
   								$("#viewer2").children("img").attr("src",imageSource);
   	       						$(".viewer").show(function(){
   	       							$('.modal-header .close').unbind("click");
   	       							$('.modal-header .close').click(function(){
   	       								$('.maskdivgen').fadeOut(100);
   	       								$('.viewer').slideUp(200);
   	       								$("#image-list").show(function(){
   	       									$('.modal-header .close').unbind("click");
   	       									$('.modal-header .close').click(function(){
   	       										$('.popView').slideUp(200);
   	       										$("#imgList").hide();
   	       										$("#rollBox").empty();
   	       									});
   	       								});
   	       							});
   	       							
   	       						});
   								$(".viewer").show();
   								$(".modal-header").show();
   								$(".maskdivgen").show();
   								return false; 
   							},
   							onReady : function() { return false; },
   							onBeforeSlide : function() { return false; },
   							onAfterSlide : function() { return false; }
   						});
       				
       				}else{
       					messageInfo("暂无合同副本!");
       				}
       			});
		}else{
			messageInfo("暂无合同副本!");
			}
	});
});
//绑定图片滚动
var initSlide=function(ele){
	ele.elastislide({
		orientation : 'horizontal',
		speed : 500,
		easing : 'ease-in-out', 
		minItems : 2,
		start : 0,
		onReady : function() { return false; },
		onBeforeSlide : function() { return false; },
		onAfterSlide : function() { return false; }
	});
}
//绑定图片事件
var bindClick=function(el,imgPath){
	el.live("click",function(){
		var imageSource = $(this).find("a").attr("data-image");
		var $li=$(this);
		var $parent=$li.parent();
		$("#viewer2").iviewer({
			src : imageSource,
			mousewheel : true,
			onDelete:function(e){
				var imgurl =$(this).children("img").attr("src");
				var imgarr=imgurl.split("file-web/");
				var delImg =imgPath.val();
				delImg=delImg.replace(new RegExp(imgarr[1]),'');
				imgPath.val(delImg);
				$('.maskdivgen').fadeOut(100);
				$('.viewer').slideUp(200);
				$li.remove();
				var arrays=delImg.split(",");
				var index=0;
				for(var i=0;i<arrays.length;i++){
					if(arrays[i]){
						$parent.find("p:eq("+index+")").empty().html(index+1);
						index+=1;
						
					}
				}
			  }
		});
		el.parent().children("li").removeClass("view");
		el.addClass("view");
		$("#viewer2").children("img").attr("src",imageSource);
		$(".viewer").show();
		$(".modal-header").show();
		$(".maskdivgen").show();
	});
	
}
////上传图片
$(document).ready(function() {
	$("#bgcarousel").empty();
	bindClick($("#bgcarousel li"),$("#bgimgPath"));
	$("#bgFile").uploadify({
			swf : '${basePath}upload/uploadify.swf',
			uploader : "${basePath}upload.htm",
			fileTypeExts : '*.gif; *.jpg; *.png',
			auto : true,
			multi : true,
			height : 30,
			width : 120,
			buttonText : '上传变更扫描文件',
			onUploadSuccess : function(file,
					data, response) {
				var num = 1;
				var dataObj = eval("(" + data+ ")");//转换为json对象 
				var hideVal = $("#bgimgPath").val();
				if (hideVal == '') {
					hideVal = dataObj.fileIds;
				} else {
					
					var arrays =hideVal.split(",");
					for(var i=0;i<arrays.length;i++){
						if(arrays[i]){
							num+=1;
						}
					}
					hideVal += ","+ dataObj.fileIds;
				}
					 var carousel=$('#bgcarousel').append('<li><a href="javascript:void(0);" class="demo-image" data-image="${b.imagePath}'+dataObj.fileIds+'"><img src="${b.imagePath}'+dataObj.fileIds+'80x100.JPG" alt="" /></a><p>'+num+'</p></li>');
					 $("#bgRollBox").empty().append(carousel);
					 initSlide($('#bgcarousel'));
					$("#bgimgPath").val(hideVal);
					$("#bgimgShow").show();
				
			}
		});
	$("#bscarousel").empty();
	bindClick($("#bscarousel li"),$("#bgimgPath"));
	$("#bsFile").uploadify({
			swf : '${basePath}upload/uploadify.swf',
			uploader : "${basePath}upload.htm",
			fileTypeExts : '*.gif; *.jpg; *.png',
			auto : true,
			multi : true,
			height : 30,
			width : 120,
			buttonText : '上传变更扫描文件',
			onUploadSuccess : function(file,
					data, response) {
				var num = 1;
				var dataObj = eval("(" + data+ ")");//转换为json对象 
				var hideVal = $("#bsimgPath").val();
				if (hideVal == '') {
					hideVal = dataObj.fileIds;
				} else {
					
					var arrays =hideVal.split(",");
					for(var i=0;i<arrays.length;i++){
						if(arrays[i]){
							num+=1;
						}
					}
					hideVal += ","+ dataObj.fileIds;
				}
					 var carousel=$('#bscarousel').append('<li><a href="javascript:void(0);" class="demo-image" data-image="${b.imagePath}'+dataObj.fileIds+'"><img src="${b.imagePath}'+dataObj.fileIds+'80x100.JPG" alt="" /></a><p>'+num+'</p></li>');
					 $("#bsRollBox").empty().append(carousel);
					 initSlide($('#bscarousel'));
					$("#bsimgPath").val(hideVal);
					$("#bsimgShow").show();
				
			}
		});
})
//显示变更记录
function biangeng(recordId){
	$("#bgimgPath").val("");
	$('#bgcarousel').empty();
	$("#bgRecordId").val("");
	$('.maskdivgen').fadeIn(100);
	$('.chanPic').slideDown(200);
	$('#bgRecordId').val(recordId);
	classLoadUpload("上传变更扫描文件");
	
}
//补损
function busun(recordId){
	$("#bsimgPath").val("");
	$('#bscarousel').empty();
	$("#bsRecordId").val("");
	$('.maskdivgen').fadeIn(100);
	$('.suppPop').slideDown(200);
	$('#bsRecordId').val(recordId);
	classLoadUpload("上传补损扫描文件");
	//获取批次
	$.post("getBatch.htm", {recordId:recordId}, function(data) {
		if (data.batch != '') {
			var batch =data.batch.split("#");
			var batch0 =batch[0].split(",");
			var batch1 =batch[1].split(",");
			$("#batchId").empty();
			for(var i=0;i<batch0.length;i++){
				$("#batchId").append('<option value="">请选择批次</option>');
				$("#batchId").append('<option value="'+batch1[i]+'">第'+batch0[i]+'批次</option>');
			}
		}else{
			$("#batchId").empty();
			$("#batchId").append('<option value="">没有批次</option>');
		}
	});
}
//保存变更记录
function saveBiangeng(){
	var o = {
			"recordId" : $("#bgRecordId").val(),
			"imgPath" : $("#bgimgPath").val(),
			"flag":"1"
		};
		if($("#bgimgPath").val()==''){
			messageInfo("请上传扫描件");
			return false;
		}
		if($("#bgimgPath").val()!='' ){
		$.post("modifyRecord.htm", o, function(data) {
			if (data.isOK == 'ok') {
				alert("上传变更扫描件成功");
				window.location.href = "query.htm";
			} else {
				alert("上传变更扫描件失败");
			}
		});
		}else{
			messageInfo("请上传图片");
		}
}
//重新选择
function reselect(){
	$("#batchId").children("option").removeAttr("disabled");
	$("#batchId").prop('selectedIndex', 0);
	$("#rfidHide").val("");
	$("#rfid").text("");
}
//保存补损
function busunSeav(){
	var o = {
			"recordId" : $("#bsRecordId").val(),
			"imgPath" : $("#bsimgPath").val(),
			"RFID" : $("input[name='rfid']").val(),
			"flag":"2"
		};
		if($("#bsimgPath").val()==''){
			messageInfo("请上传扫描件");
			return;
		}
		if($("input[name='rfid']").val()==''){
			messageInfo("请选择补损批次");
			return;
		}
		if($("#bsimgPath").val()!='' ){
		$.post("modifyRecord.htm", o, function(data) {
			if (data.isOK == 'ok') {
				succInfo(function(){
					window.location.href="query.htm";
				},"上传补损扫描件成功!");  
			} else {
				errorInfo("上传补损扫描件失败");
			}
		});
	}else{
		messageInfo("请上传图片");
	}
}

	jQuery(document).ready(function($) {
		$("#batchId").change(function(){
			var value=$(this).val();
			if(value!=''){
			$(this).children("option").each(function(){
				if($(this).val()==value)
					$(this).attr("disabled","disabled");
			});
			}else{
				$("#rfidHide").val("");
				$("#rfid").text("");
			}
		})
		$('.modal-header .close').click(function() {
			$('.maskdivgen').fadeOut(100);
			$('.chanPic').slideUp(200);
			$("#bgimgShow").hide();
		})
		$('.button-box .button-gray').click(function() {
			$('.maskdivgen').fadeOut(100);
			$('.chanPic').slideUp(200);
			$("#bgimgShow").hide();
		})
		$('.modal-header .close').click(function() {
			$('.maskdivgen').fadeOut(100);
			$('.suppPop').slideUp(200);
			$("#bsimgShow").hide();
		})
		$('.item .button-gray').click(function() {
			$('.maskdivgen').fadeOut(100);
			$('.suppPop').slideUp(200);
			$("#bsimgShow").hide();
		})
		//获取rfid
		$('.batchSelect').change(function(){  
		   var batchId=$(this).children('option:selected').val();  
		   if(batchId!=''){
		   $.post("getRfid.htm", {batchId:batchId}, function(data) {
				if (data.rfid != '') {
				var hide=$("#rfidHide").val();
				var rfid ;
				if(hide!=''){
				 rfid =hide+','+data.rfid;
				}else{
					rfid=data.rfid;
				}
				$("#rfid").text(rfid);
				$("#rfidHide").val(rfid);
				} else {
					errorInfo("没有找到批次相关的RFID!");
				}
			});
		   }
   		}) 
   		//结束
   		 JS.Engine.start('${basePath}comet');
   			JS.Engine.on({  
				 "${channelName}" : function(data){//侦听一个channel
					 $("#message_div").empty();
				 for(var i=0;i<data.length;i++){
	            	 var message = new Array();
	            	 message = data[i].split(",");
	            	 var bb="";
	            	 if(message[3]==0){
	            		 bb="<div class='msgBox msg-info msgTip tipOge'><span class='icon icon16 icon-close ly-right' onclick='closeMessage(this);'>关闭</span><span class='icon icon16 icon-notice'></span>贵公司有一条<a href='confirm-kfs.htm?recordId="+message[0]+"&contractNo="+message[2]+"' class='lnk-blue' id='comet_div2_href'>待确认</a>的"+message[1]+"信息</div>"; 
	            	 }else{
	            		 bb="<div class='msgBox msg-info msgTip tipOge'><span class='icon icon16 icon-close ly-right' onclick='closeMessage(this);'>关闭</span><span class='icon icon16 icon-notice'></span>贵公司有一条<a href='confirm.htm?recordId="+message[0]+"&contractNo="+message[2]+"' class='lnk-blue' id='comet_div2_href'>待确认</a>的"+message[1]+"信息</div>"; 
	            	 }
	            	 $("#message_div").append(bb);
				 }
	             },   
	     	});  
    
	});
	
	function closeMessage(obj){
		$(obj).parent().remove();
	}
	
	function query(page) {
		var params = $("#search_form").serialize();
		if (page != undefined) {
			params = params + "&currentPage=" + page;
		}
		$.post("query.htm", params, function(data) {
			var res = $(data).find("#res_table");
			var pager = $(data).find("#pager");
			$("#res_table").empty();
			$("#res_table").append(res.html());
			var totalPage = pager.attr("totalPage");
			var currentPage = pager.attr("currentPage");
			loadPage(currentPage, totalPage, query);
		});
	}

	function loadInfo(contractNo, recordNo) {
		var isopen=$("#info" + recordNo).attr("isopen");
		if(isopen=="0"){
			$("#info" + recordNo).load("info.htm?contractNo=" + contractNo+"&recordNo="+recordNo);
			$("#info" + recordNo).attr("isopen","1");
		}
		else if(isopen=="1"){
			$("#info" + recordNo).html("");
			$("#info" + recordNo).attr("isopen","0");
		}
		
	}
	function closeContract(recordNo) {
		$("#info" + recordNo).html("");
		$("#info" + recordNo).attr("isopen","0");
	}

	function delRecord(id,contractNo) {
		if(contractNo!=''){
			messageInfo("该备案已被受理，不能删除!");
			return;
		}else{
			if (confirm("确定删除备案吗?")) {
				$.post("delRecord.htm", {
					id : id
				}, function(data) {
					if (data.isOK == "ok") {
						$("#" + id).remove();
						window.location.href="query.htm";
					} else {
						errorInfo("删除备案失败");
					}
				});
			}
		}
	}
</script>
</head>

<body>
	<div id="header" class="fence"><@b.header /></div>
	<div class="mainBg">
		<div class="fence-wide ly-clearFix">
			<div class="main pb20">
				<div class="yard-190 ly-left leftMenu"><@b.leftMenu /></div>
				<div class="yard-870 rightSide ly-left">
					<div class="heading mb15 ly-clearFix">
						<h1 class="ly-left">
							<span class="title fontYH f20 fb">合同备案管理</span>
							<input type="hidden" value="${type}"  id="typeId"/>
						</h1>
					</div>
					<form id="search_form" action="javascript:void(0);" method="post">
						<div class="contBox">
							<div class="searBox f12 mb10">
								备案号 <input type="text" class="input" name="recordNo"
									value="${query.recordNo}"> 合同号 <input type="text"
									class="input" name="contractNo" value="${query.contractNo}">
										合同备案状态 <select name="confirmState">
											<option selected="selected" value="">全部</option> <#list
											confirmState as state>
											<option value="${state.getId()}">${state.getName()}</option>
											</#list>
									</select>
										<button class="button button-search" onclick="query();">查询</button>
							</div>
					</form>
					<div id="message_div"></div>
					<div class="msgBox msg-error msgTip tipRed" style="display: none">
						<span class="icon icon16 icon-close ly-right">关闭</span><span
							class="icon icon16 icon-16-info"></span>贵公司有笔应付款的订单<span
							class="fb">未付款</span>
					</div>
					<div id="comet_div2" class="msgBox msg-info msgTip tipOge"
						style="display: none">
						<span class="icon icon16 icon-close ly-right">关闭</span><span
							class="icon icon16 icon-notice"></span>贵公司有一条<a href="#"
							class="lnk-blue" id="comet_div2_href">待确认</a>的合同信息
					</div>
					<table border="0" cellpadding="0" cellspacing="0" class="tabList"
						id="res_table">
						<col width="9%" />
						<col width="9%" />
						<col width="8%" />
						<col width="8%" />
						<col width="8%" />
						<col width="8%" />
						<col width="6%" />
						<col width="7%" />
						<col width="7%" />
						<col width="11%" />
						<col width="5%" />
						<col width="14%" />
						<tr>
							<th>备案号</th>
							<th>合同号</th>
							<th>甲方</th>
							<th>乙方</th>
							<th>备案<br /> 类型
							</th>
							<th>合同<br /> 类型
							</th>
							<th>合同<br /> 副本
							</th>
							<th>申请<br /> 时间
							</th>
							<th>备案<br /> 时间
							</th>
							<th>备案<br /> 状态
							</th>
							<th>合同<br /> 进度</th>
							<th class="rLine">操作</th>
						</tr>
						<#if recordlist?exists && recordlist?size!=0 > 
							<#list recordlist as record>
						<tr id="${record.id}">
							<td>${record.recordNo}</td>
							<td><a
								href="javascript:loadInfo('${record.contractNo}','${record.recordNo}');"
								class="lnk-blue">${record.contractNo}</a></td>
							<td>${record.memberNameA}</td>
							<td>${record.memberNameB}</td>
							<td>${record.type.getName()}</td>
							<td>${record.contractType.getName()}</td>
							<td><a href="javascript:void(0);"
								class="lnk-blue lnk-underline lnk-view"
								imgPath="${record.imgPath}">查看</a></td>
							<td>${record.applyDate?string("yyyy-MM-dd HH:mm:ss")}</td>
							<td><#if
								record.acceptDate?exists>${record.acceptDate?string("yyyy-MM-dd
								HH:mm:ss")}</#if></td>
							<td><#if record.confirmState.getId() ==0> <span
								class="state normal">受理中</span> </#if> <#if
								record.confirmState.getId() ==1> <span class="state frozen">未确认</span>
								</#if> <#if record.confirmState.getId() ==2> <span
								class="state process">甲方确认</span> </#if> <#if
								record.confirmState.getId() ==3> <span class="state process">乙方确认</span>
								</#if> <#if record.confirmState.getId() ==4> <span
								class="state verified">已备案</span> </#if>
							</td>
							<td><#if record.contractType.getId()!=0> <div class="progressBar">
									<div class="progre" style="width: 20%"></div>
									</div>
								<div class="color-red">20%</div>
								<#else>-</#if>
								</td>
							<td><#if record.confirmState.getId() ==0> <a
								href="to_modify.htm?recordId=${record.id}" class="lnk-blue"><span
									class="icon icon16 icon-edit"></span>修改</a> <a
								href="javascript:delRecord('${record.id}','${record.contractNo}')" class="lnk-blue"><span
									class="icon icon16 icon-del"></span>删除</a> <#else> <#if
								record.contractNo?exists> <#if record.type.getId() ==0> <a
								href="javascript:biangeng('${record.id}');"
								class="lnk-blue variContract mr10" recordId="${record.id}">变更</a>
								<a href="javascript:busun('${record.id}');"
								class="lnk-blue suppContract" recordId="${record.id}">补损</a>
								</#if> </#if>  </#if>
							</td>

						</tr>
						<tr id="info${record.recordNo}" isopen="0">
							<!-- 详细内容 -->
						</tr>
						</#list>
						<#else>
						<tr>
          					<td colspan="12" class="color-red">很抱歉，暂无数据！</td>
        				</tr>
						 </#if>
						<tr style="display: none;">
							<td colspan="12"><div class="speedInfo tl">
									<ol>
										<li>第1批次 5+6A+5 双白中空 W779/H1176型号共1250件玻璃已出库，<span
											class="color-green">已付款</span>（支付单号：896237）
										</li>
										<li>第2批次5+9A+5 双钢中空 W323/H1176型号共586件玻璃已出库，<span
											class="color-red mr10">未付款</span><a href="#"
											class="button button-red">立即支付</a></li>
									</ol>
									<div class="item mb5">
										<label>&nbsp;</label>
										<button class="button button-gray"
											onclick="closeContract('${record.recordNo}');">收起</button>
									</div>
								</div></td>
						</tr>
					</table>
					<div class="ly-clearFix"><@b.pager/></div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<@b.footer />
	<div class="modal-wrap popDemo chanPic" style="display: none; width:700px;">
		<div class="modal-header">
			<span class="close">关闭</span>
		</div>
		<div class="modal-body">
		<div style="display:none" id="bgimgShow">
		
		<input type="hidden" value="" name="" id="bgRecordId" />
			<input type="hidden" value="" name="imgPath" id="bgimgPath" />
			<div class="rollBox" id="bgRollBox">
				<ul id="bgcarousel" class="elastislide-list" style="height:140px">
				
				</ul>
			</div>
		</div>
		<div class="button-box">
			<input type="file" name="bgFile" id="bgFile"
				multiple="true" /></div>
			<div class="button-box">
				<button class="button button-pop" onclick="saveBiangeng()">确认</button>
				<button class="button button-gray">取消</button>
			</div>
		</div>
	</div>
	<div class="modal-wrap popDemo contPop suppPop" style="display: none;width:700px;">
		<div class="modal-header">
			<span class="close">关闭</span>
		</div>
		<form action="" id="bsForm" method="post">
			<div class="modal-body">
				<div class="item" id="bsimgShow">
					<label>&nbsp;</label>
					<div class="ly-left">
					<input type="hidden" value="" name="" id="bsRecordId" />
						<input type="hidden" value="" name="imgPath" id="bsimgPath" />
						<div class="rollBox" id="bsRollBox">
							<ul id="bscarousel" class="elastislide-list" style="height:140px">
							
							</ul>
						</div>
					</div>
				</div>
				<div class="item">
					<label>&nbsp;</label><div class="ly-left"><input type="file" name="bsFile" id="bsFile" multiple="true" /></div>
				</div>
				
				<div class="item">
					<label>对应批次</label> <select name="" id="batchId"
						class="batchSelect">
						<option selected="selected">请选择批次</option>
					</select><span class="color-green hand ml10" onclick="reselect();">重新选择</span>
				</div>
				<div class="item">
					<label>需补损物流标签</label><span id="rfid"></span><input type="hidden"
						name="rfid" id="rfidHide" />
				</div>
				<div class="item">
					<label>&nbsp;</label> <input type="button"
						class="button button-pop" onclick="busunSeav();" value="确定补损" />
					<button class="button button-gray">取消</button>
				</div>
		</form>
	</div>
	</div>
	<div class="modal-wrap popDemo popView" id="image-list"
		style="display: none; width: 680px;">
		<div class="modal-header">
			<span class="close"><a onclick=".hide(class='popDemo')">关闭窗口</a>
		</div>
		<div class="modal-body">
			<div class="rollBox" id="rollBox" style="height: 150px;"></div>
		</div>
	</div>
	<div class="maskdivgen" style="display: none"></div>
	<div class="viewer modal-wrap" style="display: none">
		<div class="modal-header">
			<span class="close">关闭</span>
		</div>
		<div id="viewer2" class="modal-body"></div>
	</div>
	<div class="maskdivgen" style="display: none"></div>

</body>
</html>
