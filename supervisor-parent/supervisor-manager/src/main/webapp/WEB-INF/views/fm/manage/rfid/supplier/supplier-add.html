 <@b.validate/>
<script>
  function sub(){
	 $("#sub").submit();
  }
  $("#sub").Validform({
		tiptype:3,
		datatype:{
			"f":/^[0-9]+([.]{1}[0-9]{1,2})?$/
		 },
		callback:function(form){
			add_supplier();
		}
	});
  function add_supplier(){
		var params=$("#sub").serialize();
		var doorsPrice=$("#doorsPrice").val();
		doorsPrice=parseFloat(doorsPrice)*100;
		var batchPrice=$("#batchPrice").val();
		batchPrice=parseFloat(batchPrice)*100;
		params=params+"&doorsPrice="+doorsPrice+"&batchPrice="+batchPrice;
		$.post("${basePath}rfid/supplier/save_supplier.htm",params,function(data){
			if(data.isOk=="ok"){
				alert("添加成功");
				query();
			}
			else{
				errorInfo(data);
			}
		});
		
	}
</script>
    <!-- InstanceBeginEditable name="rightBar" -->
    <h2 class="title">新增RFID供应商</h2>
    <form action="javascript:void(0);" id="sub">
    <div class="infoBox f14">
      <div>
        <label>供应商名称</label>
        <input type="text" id="" name="name" class="text tip" title="由中文组成" datatype="s4-16" errormsg="供应商名称至少4个字符,最多50个字符！" nullmsg="请输入供应商名称" />
      </div>
      <div>
        <label>联系人姓名</label>
        <input type="text" id="" name="contactName" class="text tip" title="由中文组成" datatype="s4-16" errormsg="联系人名称至少4个字符,最多16个字符！" nullmsg="请输入联系人名称"/>
      </div>
      <div>
        <label>联系电话</label>
        <input type="text" id="" name="contactTel" class="text tip" title="填写联系人手机号码"  datatype="m" errormsg="请输入正确的手机号码格式" nullmsg="手机号码不能为空"/>
      </div>
      <div>
        <label>固定电话</label>
        <input type="text" id="" name="telNum" class="text tip" title="填写公司固定电话号码" />
      </div>
      <div>
        <label>公司地址</label>
        <input type="text" id="" name="address" class="text tip" title="填写公司地址" datatype="s10-50" errormsg="供应商名称至少10个字符,最多50个字符！" nullmsg="联系人地址不能为空"/>
      </div>
      <div>
        <label>门窗标签采购价</label>
        <input type="text"  id="doorsPrice" class="input-w30"title="填写该供应商门窗标签参考采购价格" datatype="f" errormsg="必须为数字类型！" nullmsg="门窗标签采购价不能为空"/>元
      </div>
      <div>
        <label>批次标签采购价</label>
        <input type="text"  id="batchPrice" class="input-w30" title="填写该供应商批次标签参考爱狗价格" datatype="f" errormsg="必须为数字类型！" nullmsg="批次标签采购价不能为空"/>元
      </div>
     
      <div class="btnBox"><a href="javascript:sub();" class="button button-orange button-small">新增</a><a href="javascript:query();" class="button button-gray button-small">返回</a> </div></div>
    </form>

