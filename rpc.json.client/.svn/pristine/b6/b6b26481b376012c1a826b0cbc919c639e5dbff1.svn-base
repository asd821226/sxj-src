package com.xwtech.rpc.json.client;

import java.net.URL;

import junit.framework.TestCase;

import com.xwtech.tbank.rpc.bean.RpcRequest;
import com.xwtech.tbank.rpc.bean.RpcResponse;

public class JsonRpcHttpClientTest extends TestCase {

	public void testClient() throws Throwable {
		JsonRpcHttpClient client = new JsonRpcHttpClient(new URL(
				"http://localhost:8080/tbank.server/rpc/tbank.json"));

		RpcRequest request = new RpcRequest();
		request.setRequestName("中文测试");
		RpcResponse response = client.invoke("service",
				new Object[] { request }, RpcResponse.class);
		System.out.println(response.getResponseId());
	}
}
